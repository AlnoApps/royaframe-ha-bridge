# RoyaFrame Bridge - Home Assistant Add-on Configuration
# WebSocket streaming + optional relay pairing

name: RoyaFrame Bridge
description: Bridge between Home Assistant and RoyaFrame with real-time WebSocket streaming
version: "1.1.2"
slug: royaframe_bridge

# Multi-architecture support
arch:
  - amd64
  - aarch64

# Ingress configuration - serves UI inside Home Assistant
ingress: true
ingress_port: 8099
ingress_stream: true

# No external ports - Ingress only (relay is outbound)
ports: {}
ports_description: {}

# Home Assistant API access
homeassistant_api: true
auth_api: true

# Start on boot
startup: application
boot: auto

# Resource management
init: false

# Add-on options for relay configuration
options:
  relay_url: ""
  relay_token: ""

schema:
  relay_url: str?
  relay_token: password?

# Container environment
environment:
  NODE_ENV: production
  RELAY_URL: "{{ .relay_url }}"
  RELAY_TOKEN: "{{ .relay_token }}"
